<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>SamLux - Ù…ØªØ¬Ø± Ø´Ø§Ù…Ù„</title>
<style>
body {
  font-family: sans-serif;
  margin:0; padding:0;
  background: linear-gradient(-45deg,#ff9a9e,#fad0c4,#fbc2eb,#a18cd1,#fbc2eb);
  background-size:400% 400%;
  animation: gradientBG 12s ease infinite;
}
@keyframes gradientBG {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.page{display:none; padding:20px; max-width:600px; margin:auto;}
.active{display:block;}

input, select, textarea, button{width:100%; padding:10px; margin:6px 0; border-radius:6px; border:1px solid #ccc;}
button{cursor:pointer; background:#222; color:white; border:none;}
button:hover{background:#444;}
a{color:#222; cursor:pointer; text-decoration:underline;}

#cartItems li{margin:6px 0; display:flex; justify-content:space-between; align-items:center;}
#cartItems li button{margin-left:6px; padding:4px; background:#f55; border:none; color:#fff; border-radius:4px; cursor:pointer;}

.product{background:rgba(255,255,255,0.9); padding:12px; border-radius:10px; margin:10px 0;}
.cart-item{animation:addToCartAnim 0.36s ease-out;}
@keyframes addToCartAnim{0%{transform:scale(0.95);opacity:0}100%{transform:scale(1);opacity:1;}}

#successMsg{display:none; background:#d4edda; color:#155724; padding:10px; border-radius:6px; margin-top:10px; text-align:center;}
#orderLogo{display:none; text-align:center; margin-top:10px;}
#orderLogo img{max-width:120px;}
</style>
</head>
<body>

<!-- ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
<div id="signupPage" class="page">
  <h2>âœï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
  <input id="signupName" type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
  <input id="signupEmail" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
  <input id="signupPassword" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
  <button onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
  <p>Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a onclick="showPage('loginPage')">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</a></p>
</div>

<!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="loginPage" class="page">
  <h2>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</h2>
  <input id="loginEmail" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
  <input id="loginPassword" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  <p>Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a onclick="showPage('signupPage')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a></p>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ù…ØªØ¬Ø± -->
<div id="storePage" class="page">
  <header style="display:flex;justify-content:space-between; align-items:center;">
    <h2>ğŸ›ï¸ SamLux</h2>
    <div>
      <span id="welcomeMsg"></span>
      <button onclick="showPage('profilePage')">ğŸ‘¤ Ù…Ù„ÙÙŠ</button>
      <button onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
  </header>

  <section id="productsList">
    <div class="product" data-has-size="false">
      <h3 class="p-name">Ø¹Ø·Ø± ÙØ§Ø®Ø±</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: <strong class="p-price">50</strong> Ø¯.Øª</p>
      <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
      <input type="number" class="p-qty" value="1" min="1">
      <button onclick="addToCartFromElem(this)">ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
    </div>

    <div class="product" data-has-size="true">
      <img src="https://github.com/hammamif565-ai/Samlux_accessoire/blob/9d57de3a1e56965089bdbe57a0f412c11294de34/1761168109479.jpg" alt="pull " width="500">
    
      <h3 class="p-name"> pull</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: <strong class="p-price">35</strong> Ø¯.Øª</p>
      <label>Ø§Ù„Ù…Ù‚Ø§Ø³:</label>
      <select class="p-size"><option>S</option><option selected>M</option><option>L</option></select>
      <label>Ø§Ù„Ù„ÙˆÙ†:</label>
      <select class="p-color"><option>Ø£Ø³ÙˆØ¯</option><option>Ø£Ø¨ÙŠØ¶</option><option>Ø£Ø®Ø¶Ø±</option></select>
      <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
      <input type="number" class="p-qty" value="1" min="1">
      <button onclick="addToCartFromElem(this)">ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
    </div>
    
  </section>

  <section>
    <h3>ğŸ§¾ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
    <ul id="cartItems"></ul>
  </section>

  <div class="checkout">
    <form onsubmit="event.preventDefault(); sendOrder();">
      <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
      <input id="custName" type="text" required>
      <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</label>
      <textarea id="custAddress" required></textarea>
      <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
      <input id="custPhone" type="text" required>
      <button>ğŸ“² Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
    </form>
    <div id="successMsg">âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§.</div>
    <div id="orderLogo"><img src="logo.png" alt="Ø´Ø¹Ø§Ø± SamLux"></div>
  </div>

  <section>
    <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
    <p>ğŸ“ ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/21629659141" target="_blank">+216 29659141</a></p>
    <p>ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹</p>
  </section>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
<div id="profilePage" class="page">
  <h2>ğŸ‘¤ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</h2>
  <p id="userName">Ø§Ù„Ø§Ø³Ù…: -</p>
  <p id="userEmail">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„: -</p>
  <button onclick="showPage('storePage')">ğŸ¬ Ø§Ù„Ù…ØªØ¬Ø±</button>
  <button onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
</div>

<script>
// ====== Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª ======
function showPage(pageId){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
}

// ====== ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ ======
function signup(){
  const name=document.getElementById('signupName').value.trim();
  const email=document.getElementById('signupEmail').value.trim();
  const pass=document.getElementById('signupPassword').value;
  if(!name||!email||!pass){ alert('Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„'); return; }
  localStorage.setItem('user', JSON.stringify({name,email,pass}));
  alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ âœ…');
  showPage('loginPage');
}

// ====== ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ======
function login(){
  const email=document.getElementById('loginEmail').value.trim();
  const pass=document.getElementById('loginPassword').value;
  const user=JSON.parse(localStorage.getItem('user'));
  if(user && email===user.email && pass===user.pass){
    localStorage.setItem('loggedInUser', JSON.stringify(user));
    document.getElementById('welcomeMsg').innerText='Ù…Ø±Ø­Ø¨Ø§ '+user.name;
    showPage('storePage');
    loadCart();
  } else alert('âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
}

// ====== ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬ ======
function logout(){
  localStorage.removeItem('loggedInUser');
  showPage('loginPage');
}

// ====== Ø§Ù„Ø³Ù„Ø© ======
function addToCartFromElem(btn){
  const card=btn.closest('.product');
  const name=card.querySelector('.p-name').innerText;
  const price=parseFloat(card.querySelector('.p-price').innerText);
  const qty=parseInt(card.querySelector('.p-qty').value)||1;
  const hasSize=card.getAttribute('data-has-size')==='true';
  const size=hasSize?card.querySelector('.p-size').value:null;
  const color=hasSize?card.querySelector('.p-color').value:null;
  const item={name,price,qty,size,color};
  const cart=JSON.parse(localStorage.getItem('cart'))||[];
  cart.push(item);
  localStorage.setItem('cart', JSON.stringify(cart));
  alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ ğŸ›’');
  loadCart();
}

function loadCart(){
  const cart=JSON.parse(localStorage.getItem('cart'))||[];
  const list=document.getElementById('cartItems');
  list.innerHTML='';
  if(cart.length===0){ list.innerHTML='<li>Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©</li>'; return; }
  let total=0;
  cart.forEach((item,idx)=>{
    total += item.price*item.qty;
    const sizeText=item.size?item.size:'Ø¨Ø¯ÙˆÙ† Ù…Ù‚Ø§Ø³';
    const colorText=item.color?item.color:'Ø¨Ø¯ÙˆÙ† Ù„ÙˆÙ†';
    const li=document.createElement('li');
    li.className='cart-item';
    li.innerHTML=`<span>${item.qty} Ã— ${item.name} (${sizeText}, ${colorText}) - ${item.price} Ø¯.Øª</span>
                  <button onclick="removeItem(${idx})">âŒ</button>`;
    list.appendChild(li);
  });
  const liTotal=document.createElement('li');
  liTotal.innerHTML=`<strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toFixed(2)} Ø¯.Øª</strong>`;
  list.appendChild(liTotal);
}

function removeItem(idx){
  const cart=JSON.parse(localStorage.getItem('cart'))||[];
  cart.splice(idx,1);
  localStorage.setItem('cart', JSON.stringify(cart));
  loadCart();
}

// ====== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ======
function sendOrder(){
  const cart=JSON.parse(localStorage.getItem('cart'))||[];
  if(cart.length===0){ alert('Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©'); return; }
  const name=document.getElementById('custName').value.trim();
  const address=document.getElementById('custAddress').value.trim();
  const phone=document.getElementById('custPhone').value.trim();
  if(!name||!address||!phone){ alert('Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„'); return; }

  let order=`ğŸ›ï¸ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† SamLux\n\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\n\nğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n`;
  cart.forEach((it,i)=>{
    const s=it.size?it.size:'Ø¨Ø¯ÙˆÙ† Ù…Ù‚Ø§Ø³';
    const c=it.color?it.color:'Ø¨Ø¯ÙˆÙ† Ù„ÙˆÙ†';
    order+=`${i+1}. ${it.qty} Ã— ${it.name} (${s}, ${c}) - ${it.price} Ø¯.Øª\n`;
  });

  const waUrl='https://wa.me/21629659141?text='+encodeURIComponent(order);
  window.open(waUrl,'_blank');

  localStorage.removeItem('cart');
  loadCart();
  document.getElementById
  document.getElementById('successMsg').style.display = 'block';
  document.getElementById('orderLogo').style.display = 'block';
  // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
  document.getElementById('custName').value = '';
  document.getElementById('custAddress').value = '';
  document.getElementById('custPhone').value = '';
}

// ====== ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© ======
document.addEventListener('DOMContentLoaded', () => {
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  if(user){
    document.getElementById('welcomeMsg').innerText = 'Ù…Ø±Ø­Ø¨Ø§ ' + user.name;
    showPage('storePage');
    loadCart();
    document.getElementById('userName').innerText = 'Ø§Ù„Ø§Ø³Ù…: ' + user.name;
    document.getElementById('userEmail').innerText = 'Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„: ' + user.email;
  } else {
    showPage('signupPage'); // ØµÙØ­Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…
  }
});
</script>
</body>
</html>
