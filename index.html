<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SamLux Shop</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#f9f9f9; }
    header {
      display:flex; justify-content:space-between; align-items:center;
      background:#111; color:#fff; padding:10px 20px;
      position:sticky; top:0; z-index:1000;
    }
    header .logo { font-size:22px; font-weight:bold; text-align:center; flex:1; }
    header .actions { display:flex; gap:15px; align-items:center; }
    header a, header button {
      color:#fff; background:none; border:none; cursor:pointer;
      font-size:14px; text-decoration:none;
    }
    header a:hover, header button:hover { color:#f0a500; }
    .icon { font-size:18px; }
    main { padding:20px; text-align:center; }
    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:15px; margin-top:20px; }
    .product {
      background:#fff; border:1px solid #ddd; padding:10px; border-radius:8px;
    }
    .product img { width:100%; border-radius:5px; }
    .btn { background:#111; color:#fff; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; }
    .btn:hover { background:#f0a500; color:#111; }
    footer { margin-top:30px; padding:15px; background:#111; color:#fff; text-align:center; }
    .back-btn { display:inline-block; margin:15px 0; cursor:pointer; color:#111; }
    .success { background:#d4edda; color:#155724; padding:10px; margin:10px auto; border-radius:5px; width:80%; display:none; }
    .details, .checkout { background:#fff; border:1px solid #ddd; padding:20px; border-radius:10px; margin:20px auto; max-width:400px; text-align:right; }
    .details img { width:100%; border-radius:10px; margin-bottom:15px; }
    select, input, textarea { width:100%; padding:8px; margin:8px 0; border:1px solid #ccc; border-radius:5px; }
  </style>
</head>
<body>

<header>
  <div class="actions">
    <button title="تبديل اللغة">🌐</button>
    <a href="#signup">📝</a>
    <a href="#cart">🛒</a>
  </div>
  <div class="logo">SamLux</div>
  <div class="actions">
    <a href="#contact">📞</a>
  </div>
</header>

<main>
  <h2>منتجاتنا</h2>
  <div class="products">
    <div class="product">
      <img src="image/parfum.jpg" alt="عطر اصلي ">
      <p> عطر اصلي </p>
      <p>السعر: 20 د.ت</p>
      <a href="#details" class="btn">تفاصيل</a>
    </div>
    <div class="product">
      <img src="https://via.placeholder.com/200" alt="Product 2">
      <p>ساعة أنيقة</p>
      <p>السعر: 120 د.ت</p>
      <a href="#details" class="btn">تفاصيل</a>
    </div>
  </div>

  <div><span class="back-btn" onclick="history.back()">⬅ رجوع</span></div>

  <!-- تفاصيل منتج -->
  <section id="details" style="margin-top:40px;">
    <div class="details">
      <img src="https://via.placeholder.com/400" alt="Product detail">
      <h3 id="prodName">قميص عصري</h3>
      <p><strong>السعر: <span id="prodPrice">50</span> د.ت</strong></p>
      <p>الحالة: <span style="color:green;">✅ متوفر</span></p>

      <label>الكمية:</label>
      <input type="number" id="prodQty" min="1" value="1">

      <label>المقاس:</label>
      <select id="prodSize">
        <option>S</option>
        <option>M</option>
        <option>L</option>
        <option>XL</option>
      </select>

      <label>اللون:</label>
      <select id="prodColor">
        <option>أبيض</option>
        <option>أسود</option>
        <option>أحمر</option>
        <option>أزرق</option>
      </select>

      <button class="btn" onclick="addToCart()">🛒 أضف إلى السلة</button>
      <div><span class="back-btn" onclick="history.back()">⬅ رجوع</span></div>
    </div>
  </section>

  <!-- تسجيل -->
  <section id="signup" style="margin-top:40px;">
    <h3>إنشاء حساب</h3>
    <form onsubmit="event.preventDefault(); showSuccess();">
      <input type="text" placeholder="الاسم الكامل" required><br><br>
      <input type="email" placeholder="البريد الإلكتروني" required><br><br>
      <input type="password" placeholder="كلمة السر" required><br><br>
      <button class="btn">تسجيل</button>
    </form>
    <div id="successMsg" class="success">✅ تم إنشاء حسابك بنجاح</div>
  </section>

  <!-- السلة -->
  <section id="cart" style="margin-top:40px;">
    <h3>🛒 سلة المشتريات</h3>
    <ul id="cartItems"><li>سلتك فارغة حاليا.</li></ul>
    <a href="#checkout" class="btn">إتمام الطلب ✅</a>
  </section>

  <!-- Checkout -->
  <section id="checkout" style="margin-top:40px;">
    <h3>إتمام الطلب</h3>
    <div class="checkout">
      <form onsubmit="event.preventDefault(); sendOrder();">
        <label>الاسم الكامل:</label>
        <input type="text" id="custName" required>

        <label>العنوان:</label>
        <textarea id="custAddress" required></textarea>

        <label>رقم الهاتف:</label>
        <input type="text" id="custPhone" required>

        <button class="btn">📲 إرسال الطلب عبر واتساب</button>
      </form>
    </div>
  </section>

  <!-- تواصل -->
  <section id="contact" style="margin-top:40px;">
    <h3>تواصل معنا</h3>
    <p>📞 عبر واتساب: <a href="https://wa.me/21629659141">+216 29659141</a></p>
    <p>🚚 التوصيل عبر البريد السريع</p>
  </section>
</main>

<footer>
  <p>SamLux - متجر لبيع الملابس والإكسسوارات أونلاين © 2025</p>
</footer>

<script>
  function showSuccess() {
    document.getElementById("successMsg").style.display = "block";
  }

  document.addEventListener("DOMContentLoaded", loadCart);

  function addToCart() {
    let name = document.getElementById("prodName").innerText;
    let price = document.getElementById("prodPrice").innerText;
    let qty = document.getElementById("prodQty").value;
    let size = document.getElementById("prodSize").value;
    let color = document.getElementById("prodColor").value;

    let item = { name, price, qty, size, color };

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push(item);
    localStorage.setItem("cart", JSON.stringify(cart));

    alert("تمت إضافة المنتج إلى السلة 🛒");
    loadCart();
  }

  function loadCart() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let cartItems = document.getElementById("cartItems");
    cartItems.innerHTML = "";

    if (cart.length === 0) {
      cartItems.innerHTML = "<li>سلتك فارغة حاليا.</li>";
    } else {
      cart.forEach((item, index) => {
        cartItems.innerHTML += `<li>${item.qty} × ${item.name} (${item.size}, ${item.color}) - ${item.price} د.ت 
          <button onclick="removeItem(${index})">❌</button></li>`;
      });
    }
  }

  function removeItem(index) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    loadCart();
  }

  function sendOrder() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    if (cart.length === 0) {
      alert("سلتك فارغة!");
      return;
    }

    let name = document.getElementById("custName").value;
    let address = document.getElementById("custAddress").value;
    let phone = document.getElementById("custPhone").value;

    let orderDetails = "🛍️ طلب جديد من SamLux\n\n";
    orderDetails += "👤 الاسم: " + name + "\n";
    orderDetails += "📍 العنوان: " + address + "\n";
    orderDetails += "📞 الهاتف: " + phone + "\n\n";
    orderDetails += "📦 المنتجات:\n";

    cart.forEach((item, i) => {
      orderDetails += `${i+1}. ${item.qty} × ${item.name} (${item.size}, ${item.color}) - ${item.price} د.ت\n`;
    });

    let url = "https://wa.me/21629659141?text=" + encodeURIComponent(orderDetails);
    window.open(url, "_blank");

    // إفراغ السلة بعد الإرسال
    localStorage.removeItem("cart");
    loadCart();
  }
</script>

</body>
  </html>
